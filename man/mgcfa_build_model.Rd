% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/mgcfa-models.R
\name{mgcfa_build_model}
\alias{mgcfa_build_model}
\title{Build SEM Syntax for MGCFA}
\usage{
mgcfa_build_model(
  model_type = c("custom", "single_factor", "efa", "pca"),
  model = NULL,
  variables = NULL,
  data = NULL,
  input_matrix = NULL,
  matrix_nobs = NULL,
  n_factors = 1L,
  loading_threshold = 0.3,
  rotation = "oblimin",
  allow_cross_loadings = FALSE
)
}
\arguments{
\item{model_type}{One of \code{"custom"}, \code{"single_factor"},
\code{"efa"}, or \code{"pca"}.}

\item{model}{Lavaan syntax used when \code{model_type = "custom"}.}

\item{variables}{Character vector of indicator variable names.}

\item{data}{Optional data.frame used for EFA/PCA model construction.}

\item{input_matrix}{Optional covariance or correlation matrix used for
EFA/PCA model construction.}

\item{matrix_nobs}{Optional sample size for matrix-based EFA/PCA.}

\item{n_factors}{Number of factors/components for EFA/PCA model generation.}

\item{loading_threshold}{Absolute loading cut point used to retain paths.}

\item{rotation}{Rotation passed to \code{psych::fa()} or
\code{psych::principal()}.}

\item{allow_cross_loadings}{Logical. If \code{TRUE}, keep all loadings above
threshold. If \code{FALSE}, keep only the strongest loading per variable.}
}
\value{
A character string with lavaan model syntax.
}
\description{
Creates lavaan model syntax from a user-supplied model, a single-factor
template, or thresholded exploratory loadings from EFA/PCA.
}
